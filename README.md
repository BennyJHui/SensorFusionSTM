Used STM32 to communicate with IMU via SPI and have IMU data, accel gyro be outputted into serial port for python file to plot data and store into csv file. Used CSV file to import to matlab workspace and use simulink to have accel and gyro input to complimentary filter for sensor fusion to get orientation. Was able to validate this data by comparing IMU orientation (scope from simulink) with PhyPhox ios app (phone orientation) where I would have IMU and phone move in the same position to get an approx to see if correct or not. Once satisfied orientation is correct, I use Simulink embedded code generation and implement the generated C files into stm32 to output roll pitch yaw into serial port.
